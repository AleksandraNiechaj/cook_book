{% extends 'base.html.twig' %}
{% block title %}{{ recipe.title }}{% endblock %}

{% block body %}
    <p class="mt-3">
        <a href="{{ path('app_home') }}" class="btn btn-outline-primary btn-sm">🏠 Powrót do strony głównej</a>
    </p>

    <div class="container mt-4">
        <article class="recipe">
            <h1 class="mb-3">{{ recipe.title }}</h1>

            <p class="text-muted">
                <em>Kategoria:</em>
                {% if recipe.category %}
                    <a href="{{ path('category_show', { slug: recipe.category.slug }) }}">
                        {{ recipe.category.name }}
                    </a>
                {% else %}
                    —
                {% endif %}
            </p>

            <div class="mt-3">
                {{ recipe.content|nl2br }}
            </div>

            <div class="mt-4">
                <a href="{{ path('app_recipe_index') }}" class="btn btn-outline-secondary btn-sm">← Wszystkie przepisy</a>
                {% if recipe.category %}
                    <a href="{{ path('category_show', { slug: recipe.category.slug }) }}" class="btn btn-outline-secondary btn-sm">Wróć do kategorii</a>
                {% endif %}
                <a href="{{ path('app_recipe_edit', { id: recipe.id }) }}" class="btn btn-primary btn-sm">✏️ Edytuj</a>
                <form method="post" action="{{ path('app_recipe_delete', { id: recipe.id }) }}" style="display:inline;"
                      onsubmit="return confirm('Na pewno chcesz usunąć ten przepis?');">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ recipe.id) }}">
                    <button class="btn btn-danger btn-sm">🗑️ Usuń</button>
                </form>
            </div>
        </article>
    </div>
{% endblock %}
